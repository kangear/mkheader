<div style="margin: 0px; padding: 0px; border: 0px;"><div style="margin: 0px; padding: 0px; border: 0px;">说明：这个是在mkimage的源代码上移植来的。这里：http://uboot-mkimage.sourcearchive.com/downloads/0.4/</div><div style="margin: 0px; padding: 0px; border: 0px;"><br></div><div style="margin: 0px; padding: 0px; border: 0px;">install:</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; make build</div><div style="margin: 0px; padding: 0px; border: 0px;">clean:</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; make clean</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp;&nbsp;</div><div style="margin: 0px; padding: 0px; border: 0px;">下面是mkheader的使用方法：</div><div style="margin: 0px; padding: 0px; border: 0px;">Usage: mkheader -l image</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -l ==&gt; list image header information</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp;mkheader [-x] -A arch -O os -T type -C comp -a addr -e ep -n name -d data_file[:data_file...] image</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -A ==&gt; set architecture to 'arch'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -O ==&gt; set operating system to 'os'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -T ==&gt; set image type to 'type'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -C ==&gt; set compression type 'comp'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -a ==&gt; set load address to 'addr' (hex) 30008000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -e ==&gt; set burn address to 'addr' (hex) bootloader-&gt;0x0 kernel-&gt;0x60000 rootfs-&gt;0x560000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -n ==&gt; set image type bootloader-&gt;'BOOT' kernel-&gt;'KERN' rootfs-&gt;'ROOT'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -d ==&gt; use image data from 'datafile'</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -x ==&gt; set XIP (execute in place)</div><div style="margin: 0px; padding: 0px; border: 0px;">只有红色部分是要改动的，其余按照例子上的一样就OK了。</div><div style="margin: 0px; padding: 0px; border: 0px;"><br></div><div style="margin: 0px; padding: 0px; border: 0px;">bootloader:</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard# mkheader -n 'BOOT' -A arm -O linux -T kernel -C none -a 0x30008000 -e 0x0 -d u-boot.bin h_u-boot.bin</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Magic Number: 0x27051956</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Image Type: &nbsp; Bootloader</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Created: &nbsp; &nbsp; &nbsp;Sun Mar 24 09:28:46 2013</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Data Size: &nbsp; &nbsp;154244 Bytes = 150.63 kB = 0.15 MB</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Load Address: 0x30008000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Burn Address: 0x00000000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; CRC32 &nbsp; &nbsp; &nbsp; : 0x55D384FA</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard# ls</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; h_u-boot.bin &nbsp;rootfs.img &nbsp;u-boot.bin &nbsp;uImage</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard#&nbsp;</div><div style="margin: 0px; padding: 0px; border: 0px;"><br></div><div style="margin: 0px; padding: 0px; border: 0px;">kernel:</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard# mkheader -n 'ROOT' -A arm -O linux -T kernel -C none -a 0x30008000 -e 0x560000 -d rootfs.img h_rootfs.img</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Magic Number: 0x27051956</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Image Type: &nbsp; rootfs</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Created: &nbsp; &nbsp; &nbsp;Sun Mar 24 09:32:59 2013</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Data Size: &nbsp; &nbsp;13047936 Bytes = 12742.12 kB = 12.44 MB</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Load Address: 0x30008000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Burn Address: 0x00560000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; CRC32 &nbsp; &nbsp; &nbsp; : 0xE957B9D0</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard#</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp;&nbsp;</div><div style="margin: 0px; padding: 0px; border: 0px;">rootfs:</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard# mkheader -n 'ROOT' -A arm -O linux -T kernel -C none -a 0x30008000 -e 0x560000 -d rootfs.img h_rootfs.img</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Magic Number: 0x27051956</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Image Type: &nbsp; rootfs</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Created: &nbsp; &nbsp; &nbsp;Sun Mar 24 09:33:18 2013</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Data Size: &nbsp; &nbsp;13047936 Bytes = 12742.12 kB = 12.44 MB</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Load Address: 0x30008000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; Burn Address: 0x00560000</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; CRC32 &nbsp; &nbsp; &nbsp; : 0xE957B9D0</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; root@kangear:/work/tftpboot/heard# ls</div><div style="margin: 0px; padding: 0px; border: 0px;">&nbsp; &nbsp; h_rootfs.img &nbsp;h_u-boot.bin &nbsp;h_uImage &nbsp;rootfs.img &nbsp;u-boot.bin &nbsp;uImage</div></div>
